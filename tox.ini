[tox]
requires = tox-conda
envlist = py{310}
isolated_build = True

[testenv]
extras = test, cpu
allowlist_externals = curl
passenv =
    CI
    GITHUB_*
    TOXENV
conda_deps=
    ambertools
conda_channels=
    conda-forge
commands =
    curl -o qdpi-1.0.pb https://gitlab.com/RutgersLBSR/qdpi/-/raw/master/qdpi-1.0.pb
    pytest tests/ --cov --cov-report term --cov-report xml --cov-config={toxinidir}/pyproject.toml
